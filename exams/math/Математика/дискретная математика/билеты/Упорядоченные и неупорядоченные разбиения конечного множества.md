source:  [[Математика/дискретная математика/Дискретная математика|Дискретная математика]]
tegs: #math 

Упорядоченные и неупорядоченные разбиения конечного множества (распределения раз- личных предметов по различимым и неразличимым ящикам). Число упорядоченных разбиений конечного множества на k частей (среди которых могут быть пустые). Число упорядоченных разбиений конечного множества на k подмножеств заданных мощностей. Задача о количестве слов с заданным составом букв

# Разбиения конечного множества

## Упорядоченные и неупорядоченные разбиения

### Определение
Разбиением множества $S$ называется разбиение всех элементов множества на несколько непересекающихся подмножеств, объединение которых даёт исходное множество $S$.
- **Упорядоченные разбиения** учитывают порядок подмножеств.
- **Неупорядоченные разбиения** порядок подмножеств не учитывают.

## Число упорядоченных разбиений на $k$ частей

### Формула
Число упорядоченных разбиений множества из $n$ элементов на $k$ частей равно:
$$
k^n.
$$

### Доказательство
Каждый элемент множества может быть отнесён к одной из $k$ частей. Это соответствует выбору одного из $k$ вариантов для каждого из $n$ элементов. Таким образом, общее количество способов равно:
$$
k \cdot k \cdot \ldots \cdot k = k^n.
$$

### Пример
Сколькими способами можно распределить 4 элемента по 3 ящикам, если порядок ящиков важен?
$$
k^n = 3^4 = 81.
$$
Теорема
---
Число упорядоченных разбиений множества на n на k частей 
$$\frac{n!}{n_1!n_2!....n_k!}$$

## Число неупорядоченных разбиений на $k$ частей

### Формула
Число неупорядоченных разбиений множества на $k$ частей соответствует числу способов разбиения множества с учётом только размера частей. Эти числа известны как числа Стирлинга второго рода $$S(n, k)$$

### Рекуррентная формула
Число $S(n, k)$ можно вычислить по формуле:
$$
S(n, k) = k \cdot S(n-1, k) + S(n-1, k-1),
$$
где:
- $S(n-1, k)$ \--- количество разбиений для первых $(n-1)$ элементов, если добавляемый $n$-й элемент помещается в уже существующую часть,
- $S(n-1, k-1)$ \--- количество разбиений для первых $(n-1)$ элементов, если добавляемый $n$-й элемент образует новую часть.

### Пример
Сколькими способами можно разбить множество из 4 элементов на 2 подмножества?

Используем числа Стирлинга второго рода:
$$
S(4, 2) = 2 \cdot S(3, 2) + S(3, 1).
$$
Для $S(3, 2)$:
$$
S(3, 2) = 2 \cdot S(2, 2) + S(2, 1),
$$
где $S(2, 2) = 1$ и $S(2, 1) = 1$. Значит:
$$
S(3, 2) = 2 \cdot 1 + 1 = 3.
$$
Для $S(3, 1)$:
$$
S(3, 1) = 1.
$$
Итак:
$$
S(4, 2) = 2 \cdot 3 + 1 = 7.
$$
Таким образом, существует 7 способов.

## Распределение различных предметов по различимым и неразличимым ящикам

### Различимые предметы по различимым ящикам
Для этой задачи порядок как предметов, так и ящиков имеет значение. Общее число способов распределения:\
$$
k^n.
$$

### Различимые предметы по неразличимым ящикам
Для неразличимых ящиков задача сводится к подсчёту чисел Стирлинга второго рода $S(n, k)$.

### Неразличимые предметы по различимым ящикам
Эта задача эквивалентна распределению одинаковых шаров по ящикам и решается с использованием сочетаний с повторениями:
$$
C_{n+k-1}^k = \frac{(n+k-1)!}{k!(n-1)!}.
$$

### Неразличимые предметы по неразличимым ящикам
Задача становится сложной и требует применения комбинаторного анализа или прямого перебора.

## Пример
Распределить 6 различных предметов по 3 различным ящикам, если ящики различимы:
$$
k^n = 3^6 = 729.
$$

Если ящики неразличимы, то используем числа Стирлинга второго рода $S(6, k)$ для $k = 3$.

##Задача о количестве слов с заданным количеством букв
--

Дано слово длины $n$, в котором первая буква встречается $a_1$ раз, вторая — $a_2$ раз, ..., $k$-я — $a_k$ раз, где $a_1 + a_2 + \ldots + a_k = n$.

Общее количество различных слов (перестановок) вычисляется по формуле:

$$
\text{Количество слов} = \frac{n!}{a_1! \cdot a_2! \cdot \ldots \cdot a_k!}.
$$

$\textbf{Пример:}$ Пусть дано слово "АНАНАС", где:
- А встречается 3 раза,
- Н — 2 раза,
- С — 1 раз.

Тогда общее количество слов:
$$
\frac{6!}{3! \cdot 2! \cdot 1!} = \frac{720}{6 \cdot 2 \cdot 1} = 60.
$$

Таким образом, можно составить 60 различных перестановок.

