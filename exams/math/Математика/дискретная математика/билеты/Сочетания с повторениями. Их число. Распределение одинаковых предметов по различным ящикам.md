source:  [[Математика/дискретная математика/Дискретная математика|Дискретная математика]]
tegs: #math 

# Сочетания с повторениями

## Определение
Сочетанием с повторениями из $n$ элементов по $k$ называется неупорядоченное подмножество из $k$ элементов, выбранное из множества $n$ элементов, где элементы могут повторяться. Общее число таких сочетаний вычисляется по формуле:
$$
\bar{С}_{n}^k=C_{n+k-1}^k = \frac{(n+k-1)!}{k!(n-1)!}.
$$

## Доказательство
Рассмотрим задачу выбора $k$ элементов из $n$ с повторениями. Для решения такой задачи можно использовать метод «шаров и перегородок»:
- Представим $n$ элементов как $n$ ящиков, в которые распределяем $k$ шаров.
- Разделим шары на группы, где каждая группа соответствует числу шаров, помещённых в один ящик.
- Для разделения $k$ шаров на $n$ групп нужно разместить $n-1$ перегородку между шарами. Таким образом, общее число объектов для размещения равно $k + (n-1) = n + k - 1$.

Количество способов размещения перегородок и шаров без учёта порядка равно числу сочетаний из $(n+k-1)$ элементов по $k$:
$$
C_{n+k-1}^k = \frac{(n+k-1)!}{k!(n-1)!}.
$$

## Пример
Сколькими способами можно выбрать 3 яблока из 5 сортов, если сорта могут повторяться?

Используем формулу сочетаний с повторениями:
$$
C_{5+3-1}^3 = C_7^3 = \frac{7!}{3! \cdot 4!} = \frac{7 \cdot 6 \cdot 5}{3 \cdot 2 \cdot 1} = 35.
$$

Итак, существует 35 способов.

## Распределение одинаковых предметов по различным ящикам
Задача распределения $k$ одинаковых предметов по $n$ различным ящикам сводится к задаче сочетаний с повторениями. Формула аналогична:
$$
C_{n+k-1}^k = \frac{(n+k-1)!}{k!(n-1)!}.
$$

**Пример**: Сколькими способами можно распределить 4 одинаковых конфеты между 3 детьми?

Используем формулу:
$$
C_{3+4-1}^4 = C_6^4 = \frac{6!}{4! \cdot 2!} = \frac{6 \cdot 5}{2 \cdot 1} = 15.
$$

Итак, существует 15 способов.
