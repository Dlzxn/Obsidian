source:  [[Математика/дискретная математика/Дискретная математика|Дискретная математика]]
tegs: #math 
### **Упорядоченные разбиения натуральных чисел**

**Определение**: Упорядоченное разбиение натурального числа $n$ — это представление $n$ в виде суммы целых чисел, учитывая порядок слагаемых.

---

### **Упорядоченные разбиения на заданное количество слагаемых**

Пусть требуется представить натуральное число $n$ как сумму $k$ положительных целых чисел: $$n = a_1 + a_2 + \dots + a_k, \quad a_i \geq 1$$
**Формула:** $$\binom {n-1}{k-1}$$
**Рекуррентное соотношение**: Обозначим $P_k(n)$ количество таких разбиений. Тогда: $$P_k(n) = P_k(n-1) + P_{k-1}(n-1)$$где:

1. $P_k(n-1)$ — учитывает разбиения числа $n-1$ на $k$ слагаемых, добавляя к каждому из них единицу.
2. $P_{k-1}(n-1)$ — учитывает разбиения числа $n-1$ на $k-1$ слагаемых, добавляя к ним одно новое слагаемое $a_k = 1$.

**Базовые случаи**:

1. $P_k(n) = 0$, если $k > n$.
2. $P_k(n) = 1$, если $k = n$ (единственное разбиение: $1 + 1 + \dots + 1$).
3. $P_k(0) = 0$ для $k > 0$.

**Пример**: Разбиение числа $5$ на $k = 3$ слагаемых: $$5 = 3 + 1 + 1,\quad 1 + 3 + 1,\quad 1 + 1 + 3, \quad 2 + 2 + 1, \quad 2 + 1 + 2, \quad 1 + 2+ 2$$Итого $P_3(5) = 6$.

---

### **Упорядоченные разбиения на произвольное количество слагаемых**

В этом случае $n$ представляется в виде суммы произвольного числа положительных целых чисел: $$n = a_1 + a_2 + \dots + a_k, \quad a_i \geq 1, \quad k \geq 1$$Обозначим $P(n)$ — общее количество таких разбиений. Тогда:

#### **Формула**
$$P(n) = 2^{n-1}$$

**Объяснение**:

1. Каждое разбиение можно сопоставить бинарной строке длины $n-1$, где $1$ обозначает разбиение после соответствующего числа, а $0$ — объединение в одно слагаемое.
2. Например, для $n = 4$:
    - Бинарная строка $111$ (все $1$): $4 = 1 + 1 + 1 + 1$.
    - Бинарная строка $001$: $4 = 3 + 1$.
    - Всего $2^{n-1} = 8$ разбиений.

**Пример**: Упорядоченные разбиения числа $4$:
$$4 = 4, \quad 3 + 1, \quad 1 + 3, \quad 2 + 2, \quad 2 + 1 + 1, \quad 1 + 2 + 1, \quad 1 + 1 + 2, \quad 1 + 1 + 1 + 1$$
Итого $P(4) = 2^3 = 8$.

---

### **Упорядоченные разбиения через рекурсию**

Для произвольного количества слагаемых $P(n)$ удовлетворяет рекуррентному соотношению: $$P(n) = \sum_{k=1}^n P_k(n)$$
где $P_k(n)$ — количество разбиений $n$ на ровно $k$ слагаемых.

---

### **Связь с комбинаторикой**

1. **Упорядоченные разбиения** связаны с размещением $n$ идентичных элементов в $k$ ящиков, где каждый ящик содержит хотя бы один элемент.
2. Рекуррентное соотношение для упорядоченных разбиений связано с треугольником Паскаля и биномиальными коэффициентами.